<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html" data-sly-call="${templates.placeholder @ isEmpty = true}"/>
<sly data-sly-use.headerNavLinksModel="${'com.deloitte.aem.lead2loyalty.core.models.TextModel'}"/>
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <button
                    class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarTogglerDemo03"
                    aria-controls="navbarTogglerDemo03"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="${headerNavLinksModel.logoLink}"><b>${headerNavLinksModel.logoTitle}</b></a>
            <div class="collapse navbar-collapse justify-content-between" id="navbarTogglerDemo03" >

                <ul class="navbar-nav mr-auto mt-2 mt-lg-0 justify-content-between">
                    <sly data-sly-list.primaryLink="${headerNavLinksModel.utilityLinks}">
                        <sly data-sly-test="${primaryLink.showChildPages == 'false'}">
                            <li class="nav-item">
                                <a class="nav-link ${primaryLinkList.count == 1 ? 'active' : ''}" href="${primaryLink.linkUrl}" target="${primaryLink.openInNewWindow}">
                                    ${primaryLink.linkTitle}
                                </a>
                            </li>
                        </sly>
                        <sly data-sly-test="${primaryLink.showChildPages == 'true'}">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="${primaryLink.linkUrl}" role="button" data-bs-toggle="dropdown" aria-expanded="false" >
                                    ${primaryLink.linkTitle}
                                </a>
                                <ul class="dropdown-menu">
                                    <sly data-sly-list.secondaryLink="${primaryLink.secondaryHeaderLinks}">
                                        <li class="nav-item dropend">
                                            <a class="nav-link dropdown-toggle" href="${secondaryLink.url}" target="${primaryLink.openInNewWindow}" role="button" aria-expanded="false">
                                                ${secondaryLink.text}
                                            </a>
                                            <ul class="dropdown-menu" data-sly-test="${secondaryLink.tertiaryLinks}">
                                                <sly data-sly-list.tertiaryLink="${secondaryLink.tertiaryLinks}">
                                                    <li>
                                                        <a class="dropdown-item" href="${tertiaryLink.url}">
                                                            ${tertiaryLink.text}
                                                        </a>
                                                    </li>
                                                </sly>
                                                <li class="nav-item dropend">
                                                    <a class="nav-link dropdown-toggle" href="${secondaryLink.secondLevelMoreLink}" role="button" aria-expanded="false">
                                                        More
                                                    </a>
                                                </li>
                                            </ul>
                                        </li>
                                    </sly>
                                    <li class="nav-item ">
                                        <a class="dropdown-item" href="${primaryLink.linkUrl}">All ${primaryLink.linkTitle}</a>
                                    </li>
                                </ul>
                            </li>
                        </sly>
                    </sly>
                </ul>
                <!-- commenting out search temporarily-->
                <div class="d-flex col-md-5 col-sm-12 justify-content-end">
                    <!--<div class="d-flex justify-content-between">
                        <div class="input-group">
                            <div class="form-outline">
                                <input
                                        id="search-input"
                                        type="search"
                                        id="form1"
                                        class="form-control"
                                />
                            </div>
                            <button id="search-button" type="button" class="btn btn-dark">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                    </div>-->
                    <div class="user-log-in">
                        <button type="button" class="btn btn-dark" data-bs-toggle="modal" id="signInBtn" data-target="#signInFormModal" data-toggle="modal">Sign In</button>
                    </div>

                    <!-- user dropdown start -->
                    <div class="dropdown user-logged-in d-none">
                        <a class="btn btn-dark dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            My Account
                        </a>

                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a class="dropdown-item" href="#">Profile</a>
                            <a class="dropdown-item logout-app" href="javascript:void(0)">Logout</a>
                        </div>
                    </div>
                    <!-- user dropdown end -->
                </div>
            </div>
        </div>
    </nav>
</header>
<!-- Header -->

<!-- Sign in Modal -->
<div  class="modal fade" id="myModal" role="dialog" id="signInFormModal" tabindex="-1" aria-labelledby="signInLabel" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="signInLabel">Login</h5>
            </div>
            <div class="modal-body">
                <form id="signInForm">

                    <p class="sign-in-error text-danger d-none">Sign in Error</p>
                    <div class="form-outline mb-4">
                        <label class="form-label" for="loginEmail">Email address</label>
                        <input type="email" id="loginEmail" name="email" class="form-control" required/>
                    </div>

                    <div class="form-outline mb-4">
                        <label class="form-label" for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" name="password" class="form-control" required/>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block mb-1 w-100 login-btn">Sign in</button>
                </form>
            </div>
            <div class="modal-footer">
                <div style="margin: 0 auto;" class="py-2">Don't have an Account? </div>
                <a class="btn btn-primary w-100 mb-3" href="${headerNavLinksModel.signUpPageUrl}" role="button">Register</a>
            </div>
        </div>
    </div>
</div>