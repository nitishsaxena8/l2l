<script type="text/javascript">
    var digitalData = {};
</script>
<sly data-sly-use.dataLayerHelper="${'com.deloitte.aem.lead2loyalty.core.models.DataLayerModel'}"/>

<sly data-sly-test.pagename = "${ dataLayerHelper.pageName ? dataLayerHelper.pageName : pageProperties.jcr:title}"></sly>


<script type="text/javascript">

    digitalData.page = {};

    digitalData.page = {
        'pageInfo':{
            'pageID':'',
            'pageName': '${dataLayerHelper.pageName @ context="text"}',
            'pageType': 'Product page',
            'title': '${dataLayerHelper.pageTitle @ context="text"}',
            'pageURL': '${dataLayerHelper.pagePath @ context="text"}',
            'pageReferrer':''
         }

    }

    digitalData.user = {
        'authState':'not-authenticate',
        'email':'',
        'userId':''
    }

    digitalData.ecommerce = {
        'detail':{
             'actionField': {
                 'action': '${dataLayerHelper.action @ context="text"}'
             }
        }
    };
    digitalData.ecommerce.detail = {};
    digitalData.ecommerce.detail.actionField = {

    };



</script>
