<sly data-sly-use.carousel="com.xperience.aem.xpbootstrap.core.models.organisms.Carousel"></sly>

<sly data-sly-set.marginTop="${carousel.marginTop || 'margin-top-x'}"/>
<sly data-sly-set.mobileMarginTop="${carousel.mobileMarginTop || 'm-margin-top-x'}"/>
<sly data-sly-set.marginBottom="${carousel.marginBottom || 'margin-bottom-x'}"/>
<sly data-sly-set.mobileMarginBottom="${carousel.mobileMarginBottom || 'm-margin-bottom-x'}"/>
<div
    data-sly-use.templates="xpbootstrap/components/master/organisms/commons/v1/templates.html" class="cmp-carousel carousel slide ${marginTop} ${mobileMarginTop} ${marginBottom} ${mobileMarginBottom}"
    data-cmp-is="carousel" data-cmp-autoplay="${(wcmmode.edit || wcmmode.preview) ? '' : carousel.autoplay}"
    data-cmp-delay="${carousel.delay}" data-cmp-autopause-disabled="${carousel.autopauseDisabled}">


    <div class="cmp-carousel__content carousel-inner" data-sly-test="${carousel.items && carousel.items.size > 0}">
        <div role="tablist" class="carousel-indicators" data-cmp-hook-carousel="indicators">
            <button data-sly-repeat.item="${carousel.items}" role="tab" data-cmp-hook-carousel="indicator"
                data-bs-target="indicators"></button>
        </div>
        <div data-sly-repeat.item="${carousel.items}" data-sly-resource="${item.name @ decorationTagName='div'}"
            role="tabpanel"
            class="cmp-carousel__item carousel-item ${itemList.first ? ' cmp-carousel__item--active' : ''}"
            data-cmp-hook-carousel="item"></div>
        <div class="cmp-carousel__actions">
            <button role="button" class="cmp-carousel__action cmp-carousel__action--previous carousel-control-prev"
                type="button" data-cmp-hook-carousel="previous" aria-label="${'Previous' @ i18n}">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </button>
            <button role="button" class="cmp-carousel__action cmp-carousel__action--next carousel-control-next"
                type="button" data-cmp-hook-carousel="next" aria-label="${'Next' @ i18n}">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </button>
        </div>

    </div>
    <sly data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
        data-sly-test="${(wcmmode.edit || wcmmode.preview) && carousel.items.size < 1}"></sly>
</div>

